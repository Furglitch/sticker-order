:root, [data-theme="latte"] {
  --base:     #eff1f5;
  --mantle:   #e6e9ef;
  --crust:    #dce0e8;
  --surface0: #ccd0da;
  --surface1: #bcc0cc;
  --surface2: #acb0be;
  --overlay0: #9ca0b0;
  --overlay1: #8c8fa1;
  --overlay2: #7c7f93;
  --subtext0: #6c6f85;
  --subtext1: #5c5f77;
  --text:     #4c4f69;

  --rosewater:#dc8a78; --flamingo:#dd7878; --pink:#ea76cb;
  --mauve:    #8839ef; --red:#d20f39;      --maroon:#e64553;
  --peach:    #fe640b; --yellow:#df8e1d;   --green:#40a02b;
  --teal:     #179299; --sky:#04a5e5;      --sapphire:#209fb5;
  --blue:     #1e66f5; --lavender:#7287fd;

  --shadow-sm:  rgba(76,79,105,0.10);
  --shadow-md:  rgba(76,79,105,0.16);
  --shadow-lg:  rgba(76,79,105,0.22);
}

[data-theme="mocha"] {
  --base:     #1e1e2e;
  --mantle:   #181825;
  --crust:    #11111b;
  --surface0: #313244;
  --surface1: #45475a;
  --surface2: #585b70;
  --overlay0: #6c7086;
  --overlay1: #7f849c;
  --overlay2: #9399b2;
  --subtext0: #a6adc8;
  --subtext1: #bac2de;
  --text:     #cdd6f4;

  --rosewater:#f5e0dc; --flamingo:#f2cdcd; --pink:#f5c2e7;
  --mauve:    #cba6f7; --red:#f38ba8;      --maroon:#eba0ac;
  --peach:    #fab387; --yellow:#f9e2af;   --green:#a6e3a1;
  --teal:     #94e2d5; --sky:#89dceb;      --sapphire:#74c7ec;
  --blue:     #89b4fa; --lavender:#b4befe;

  --shadow-sm: rgba(17,17,27,0.28);
  --shadow-md: rgba(17,17,27,0.40);
  --shadow-lg: rgba(17,17,27,0.55);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--base);
  color: var(--text);
  min-height: 100vh;
  transition: background 0.25s, color 0.25s;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image:
    linear-gradient(var(--surface0) 1px, transparent 1px),
    linear-gradient(90deg, var(--surface0) 1px, transparent 1px);
  background-size: 28px 28px;
  opacity: 0.4;
  pointer-events: none;
  z-index: 0;
  transition: opacity 0.25s;
}

.theme-toggle {
  flex-shrink: 0;
  margin-top: 8px;
  width: 68px;
  height: 36px;
  background: var(--mantle);
  border: 1.5px solid var(--surface1);
  border-radius: 100px;
  padding: 3px;
  display: flex;
  align-items: center;
  position: relative;
  cursor: pointer;
  transition: background 0.25s, border-color 0.25s;
}

.toggle-thumb {
  position: absolute;
  width: 28px;
  height: 28px;
  background: var(--surface0);
  border-radius: 100px;
  left: 3px;
  top: 3px;
  transition: transform 0.28s cubic-bezier(0.4, 0, 0.2, 1), background 0.25s;
  box-shadow: 0 1px 5px var(--shadow-md);
  z-index: 0;
}

[data-theme="mocha"] .toggle-thumb {
  transform: translateX(32px);
}

.toggle-icons {
  display: flex;
  width: 100%;
  justify-content: space-between;
  padding: 0 5px;
  position: relative;
  z-index: 1;
  pointer-events: none;
  font-size: 0.82rem;
  line-height: 1;
}

.panel {
  background: var(--mantle);
  border: 1.5px solid var(--surface1);
  border-radius: 16px;
  box-shadow: 0 2px 12px var(--shadow-sm);
  transition: background 0.25s, border-color 0.25s;
}

.github-link {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  color: var(--overlay1);
  transition: color 0.2s;
  flex-shrink: 0;
}

.github-link:hover { color: var(--text); }

.github-icon {
  width: 22px;
  height: 22px;
  fill: currentColor;
  display: block;
}

.copyright {
  font-size: 0.75rem;
  color: var(--overlay0);
  white-space: nowrap;
}

.copyright a {
  color: var(--overlay1);
  text-decoration: none;
}

.copyright a:hover { color: var(--text); }

.footer-copyright {
  position: absolute;
  right: 20px;
}

.area-label {
  display: block;
  font-size: 0.72rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--overlay1);
  margin-bottom: 6px;
  transition: color 0.25s;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  padding: 9px 18px;
  border-radius: 10px;
  border: none;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.87rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s;
  white-space: nowrap;
}

.btn-primary {
  background: var(--peach);
  color: var(--crust);
  box-shadow: 0 2px 8px color-mix(in srgb, var(--peach) 38%, transparent);
}
.btn-primary:hover { filter: brightness(0.91); transform: translateY(-1px); box-shadow: 0 4px 12px color-mix(in srgb, var(--peach) 42%, transparent); }

.btn-secondary {
  background: var(--mantle);
  color: var(--text);
  border: 1.5px solid var(--surface1);
  transition: background 0.15s, border-color 0.15s, color 0.25s, transform 0.15s;
}
.btn-secondary:hover { background: var(--surface0); border-color: var(--surface2); transform: translateY(-1px); }

.btn-teal {
  background: var(--teal);
  color: var(--crust);
  box-shadow: 0 2px 8px color-mix(in srgb, var(--teal) 38%, transparent);
}
.btn-teal:hover { filter: brightness(0.91); transform: translateY(-1px); }

.btn-green {
  background: var(--green);
  color: var(--crust);
  box-shadow: 0 2px 8px color-mix(in srgb, var(--green) 38%, transparent);
}
.btn-green:hover { filter: brightness(0.91); transform: translateY(-1px); }

.btn-accent {
  background: var(--accent);
  color: var(--crust);
  font-size: 0.82rem;
  padding: 7px 14px;
  box-shadow: 0 2px 6px color-mix(in srgb, var(--accent) 35%, transparent);
}
.btn-accent:hover { filter: brightness(0.91); transform: translateY(-1px); }

.btn-sm { padding: 6px 13px; font-size: 0.8rem; }

.icon-btn {
  background: none;
  border: 1.5px solid transparent;
  border-radius: 7px;
  width: 30px; height: 30px;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  font-size: 0.85rem;
  transition: background 0.15s, border-color 0.15s, color 0.15s;
  color: var(--subtext0);
}

.icon-btn:hover { background: var(--surface0); border-color: var(--surface1); color: var(--text); }
.icon-btn.danger:hover {
  background: color-mix(in srgb, var(--red) 15%, transparent);
  border-color: var(--red); color: var(--red);
}

.section-letter {
  font-family: 'Caveat', cursive;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--accent);
  line-height: 1;
  min-width: 28px;
  flex-shrink: 0;
  transition: color 0.25s;
}

.sticker-flags {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 12px 16px;
  border-top: 1.5px solid var(--surface1);
  background: var(--crust);
  transition: background 0.25s, border-color 0.25s;
}

.flag-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.82rem;
  color: var(--subtext0);
  transition: color 0.25s;
  user-select: none;
}

.flag-item.active { color: var(--text); }

.sw {
  position: relative;
  width: 36px;
  height: 20px;
  flex-shrink: 0;
}

.sw input { opacity: 0; width: 0; height: 0; position: absolute; }

.sw-track {
  position: absolute;
  inset: 0;
  background: var(--surface1);
  border-radius: 20px;
  cursor: pointer;
  transition: background 0.2s;
}

.sw-track::after {
  content: '';
  position: absolute;
  top: 3px; left: 3px;
  width: 14px; height: 14px;
  background: var(--overlay2);
  border-radius: 50%;
  transition: transform 0.22s cubic-bezier(0.4,0,0.2,1), background 0.2s;
}

.sw input:checked + .sw-track { background: var(--peach); }
.sw input:checked + .sw-track::after {
  transform: translateX(16px);
  background: var(--crust);
}

.flag-nsfw  .sw input:checked + .sw-track { background: var(--red);   }
.flag-ych   .sw input:checked + .sw-track { background: var(--blue);  }
.flag-multi .sw input:checked + .sw-track { background: var(--green); }

.char-count-wrap {
  display: none;
  align-items: center;
  gap: 5px;
  margin-left: 2px;
}

.char-count-wrap.visible { display: flex; }

.char-count-wrap label {
  font-size: 0.78rem;
  color: var(--subtext0);
  transition: color 0.25s;
}

.char-count-input {
  width: 48px;
  background: var(--base);
  border: 1.5px solid var(--surface1);
  border-radius: 6px;
  padding: 3px 7px;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.82rem;
  color: var(--text);
  outline: none;
  text-align: center;
  transition: border-color 0.2s, background 0.25s, color 0.25s;
}

.char-count-input:focus {
  border-color: var(--green);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--green) 20%, transparent);
}
